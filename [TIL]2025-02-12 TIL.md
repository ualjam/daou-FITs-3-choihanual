# TIL: MVC, DI 실습
**학습날짜: 2025년 02월 12일**

**어떤 문제가 있었는지?**  
MVC패턴에 대해 우선 개념 복습을 하였음.  
이후 DI에 대해서 6단계로 나누어서 코드를 작성하면서 배움.  

아래에 정리한 문서 첨부함.  
```
Layered Architecutre(4계층) ⇒ 인접한 계층간에서만 데이터를 주고 받을 수 있다.

- Presentation Layer (입출력 처리)
- Business(logic) Layer (로직 처리)
- Persistence Layer (DB 접근)
- Database Layer (oracle, mysql 등 실제 데이터 베이스)

MVC(Programming pattern)

- Model
    - Data Model (VO)
    - Service Model (로직처리 전담 객체)
        - 순수 로직 처리
        - DB 처리 (분리) ⇒ DAO(Data Access Object)
- View
    - 입출력담당 (presentation layer)
- Controller
    - view와 model을 연결

1. Step 1 : 일반적인 DAO (Database 연결 부 중복 code)
2. Step 2 : 중복된 code를 method로 분리(추출) ⇒ class의 유지보수성을 높임
3. Step 3 : 추상 method와 추상 class로 만들어서 제공 ⇒ 가져가서 사용하는 사람은 상속해서 사용
    1. 상위 class에서 기본적인 logic의 흐름을 구현
    2. 하위 class에서 구체적인 구현내용을 변경해서 구현
4. Step 4 : 상속을 배제하고 재활용할 수 있는 방법을 찾아보아요
    1. User DAO의 변경해야 하는 부분을 별도의 코드(class)로 분리
    2. Step4의 UserDAO를 재사용하려면 반드시 UserDAO에 명시적으로 박혀있는 class를 만들어서 사용해야 해요. ⇒ 이 문제를 해결 하고 싶음.
    3. 문제를 해결하기 위해 class안에 명시적으로 박혀있는 class를 제거!(interface)
5. Step 5 : interface와 UserDAO를 제공 (interface를 구현 class로 만듬)
```

이외에 어제 작성한 수정, 삭제를 포함한 코드를 mvc 패턴, DI를 적용한 코드를 작성하는 시간을 가짐.  

**그 문제를 해결하기 위해 시도해본 것들**  
오늘 배운 DI의 6단계가 각 단계에서 왜 다음 단계가 필요한지를 이해함으로써 DI에 대해 이해하는 시간을 가짐.  
어제 배웠던 mvc 패턴에 대해 작성된 코드 위에 DI를 적용시키려고 노력해봄.  



**어떻게 그 문제를 해결했는지**  
어제 작성한 update, delete 쿼리를 재사용하고, mvc 패턴에 적합한 디렉토리에 적용시킴.  
이후 DI를 위해 model 디렉토리를 추가로 만들어서 DI가 될 수 있게 구조를 바꿈.  


**오늘 내가 새롭게 배운 것들**  
mvc 패턴은 사실 nodejs(express) 때도 지겹게 사용했던 구조여서 같은 구조에 언어가 자바로 바뀐 것 말고는 같았음.  
하지만 DI의 경우 개념에 대해서는 공부한 적 있지만 실제로 코드에 적용시켜보려고 노력한 적은 처음이었음.  
DI가 진짜 왜 나타난 개념인지 왜 필요한지에 대해서 이해할 수 있었음.  


