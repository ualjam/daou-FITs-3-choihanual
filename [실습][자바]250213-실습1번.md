controller-BookSearchController
```
package example.controller;

import example.service.BookSearchService;
import example.service.BookSearchServiceOracleImpl;
import example.vo.BookVO;
import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.TextField;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.scene.control.cell.TextFieldTableCell;
import javafx.util.converter.IntegerStringConverter;

import java.net.URL;
import java.util.ResourceBundle;

public class BookSearchController implements Initializable {
    @FXML
    private TableView<BookVO> bookTable;
    @FXML
    private TableColumn<BookVO, String> isbnCol;
    @FXML
    private TableColumn<BookVO, String> titleCol;
    @FXML
    private TableColumn<BookVO, Integer> priceCol;
    @FXML
    private TableColumn<BookVO, String> authorCol;
    @FXML
    private TextField isbnInput;
    @FXML
    private TextField titleInput;
    @FXML
    private TextField priceInput;
    @FXML
    private TextField authorInput;
    @FXML
    private Button registerBtn;
    @FXML
    private TextField searchInput;
    @FXML
    private Button searchBtn;
    @FXML
    private Button deleteBtn;

    public BookSearchController() {
    }

    @Override
    public void initialize(URL url, ResourceBundle resourceBundle) {
        bookTable.setEditable(true);
        // View의 이벤트 등록
        isbnCol.setCellValueFactory(new PropertyValueFactory<>("bisbn"));
        titleCol.setCellValueFactory(new PropertyValueFactory<>("btitle"));
        priceCol.setCellValueFactory(new PropertyValueFactory<>("bprice"));
        authorCol.setCellValueFactory(new PropertyValueFactory<>("bauthor"));

        // 수정 가능하도록 setCellFactory 추가
        titleCol.setCellFactory(TextFieldTableCell.forTableColumn());
        authorCol.setCellFactory(TextFieldTableCell.forTableColumn());
        priceCol.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));

        searchBtn.setOnAction(event -> {
            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                ObservableList<BookVO> list = service.searchBookByTitleKeyword(searchInput.getText());
                bookTable.setItems(list);
            } catch (Exception e) {
                e.printStackTrace();
            }
        });

        deleteBtn.setOnAction(event -> {
            BookVO book = bookTable.getSelectionModel().getSelectedItem();
            if (book == null) {
                System.out.println("삭제할 책을 선택하세요.");
                return;
            }

            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                boolean result = service.deleteBook(book.getBisbn());

                if (result) {
                    System.out.println("삭제 성공 " + book.getBisbn());
                    bookTable.getItems().remove(book);
                } else {
                    System.out.println("삭제 실패 " + book.getBisbn());
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        });

        registerBtn.setOnAction(event -> {
            String isbn = isbnInput.getText();
            String title = titleInput.getText();
            String price = priceInput.getText();
            String author = authorInput.getText();
            if (isbn.isEmpty() || title.isEmpty() || price.isEmpty() || author.isEmpty()) {
                System.out.println("공백이 존재합니다.");
                return;
            }

            if (!price.matches("^[0-9]+$")) {
                System.out.println("형식이 맞지 않습니다.");
                return;
            }

            BookVO newBook = new BookVO(isbn, title, Integer.parseInt(price), author);
            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                boolean result = service.createBook(newBook);

                if (result) {
                    System.out.println("생성 성공 " + newBook.getBisbn());
                    isbnInput.setText("");
                    titleInput.setText("");
                    priceInput.setText("");
                    authorInput.setText("");
                    bookTable.getItems().add(newBook);
                } else {
                    System.out.println("생성 실패 " + newBook.getBisbn());
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        });

        titleCol.setOnEditCommit(event -> {
            BookVO book = event.getRowValue();
            String newValue = event.getNewValue();
            book.setBtitle(newValue);

            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                boolean result = service.updateBook(book);
                if (result) {
                    System.out.println("업데이트 성공 " + book.getBtitle());
                } else {
                    System.out.println("업데이트 실패 " + book.getBtitle());
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        });

        priceCol.setOnEditCommit(event -> {
            BookVO book = event.getRowValue();
            int newValue = event.getNewValue();
            book.setBprice(newValue);

            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                boolean result = service.updateBook(book);
                if (result) {
                    System.out.println("업데이트 성공 " + book.getBprice());
                } else {
                    System.out.println("업데이트 실패 " + book.getBprice());
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        });

        authorCol.setOnEditCommit(event -> {
            BookVO book = event.getRowValue();
            String newValue = event.getNewValue();
            book.setBauthor(newValue);

            try {
                BookSearchService service = new BookSearchServiceOracleImpl();
                boolean result = service.updateBook(book);
                if (result) {
                    System.out.println("업데이트 성공 " + book.getBauthor());
                } else {
                    System.out.println("업데이트 실패 " + book.getBauthor());
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
    }
}

```

dao-BookDAO
```
package example.dao;

import example.vo.BookVO;
import org.apache.ibatis.session.SqlSession;

import java.util.List;

// 이전에는 transaction 처리를 위해 Connection 전달
// 이번에는 SqlSessionFactory 전달
public class BookDAO {
    private SqlSession sqlSession;

    public BookDAO() {
    }

    public BookDAO(SqlSession sqlSession) {
        this.sqlSession = sqlSession;
    }

    public List<BookVO> selectByTitleKeyword(String keyword) {
        List<BookVO> bookVOList = null;

        try {
            bookVOList = sqlSession.selectList("example.MyBook.selectByTitleKeyword", "%" + keyword + "%");
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            sqlSession.close();
        }

        return bookVOList;
    }

    public int insert(BookVO bookVO) {
        int result = 0;

        try {
            result = sqlSession.insert("example.MyBook.insert", bookVO);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
//            sqlSession.close();
        }
        return result;
    }

    public int update(BookVO bookVO) {
        int result = 0;

        try {
            result = sqlSession.update("example.MyBook.update", bookVO);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
        }

        return result;
    }

    public int delete(String isbn) {
        int result = 0;

        try {
            result = sqlSession.delete("example.MyBook.delete", isbn);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {

        }

        return result;
    }
}

```

mybatis-MyBatisSessionFactory
```
package example.mybatis;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

import java.io.Reader;

// SqlSessionFactory를 통해 SqlSession 객체 생성 / 접근 가능
// SqlSession을 이용해야 SQL 실행 가능
public class MyBatisSessionFactory {
    private static SqlSessionFactory sqlSessionFactory;

    static {
        try {
            String resource = "./SqlMapConfig.xml";
            Reader reader = Resources.getResourceAsReader(resource);

            if (sqlSessionFactory == null) {
                sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static SqlSessionFactory getSqlSessionFactory() {
        return sqlSessionFactory;
    }
}

```

service-BookSearchService(interface)
```
package example.service;

import example.vo.BookVO;
import javafx.collections.ObservableList;

public interface BookSearchService {
    ObservableList<BookVO> searchBookByTitleKeyword(String keyword);
    boolean createBook(BookVO book);
    boolean updateBook(BookVO book);
    boolean deleteBook(String isbn);
}

```

service-BookSearchServiceOracleImpl
```
package example.service;

import example.dao.BookDAO;
import example.mybatis.MyBatisSessionFactory;
import example.vo.BookVO;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;

public class BookSearchServiceOracleImpl implements BookSearchService {
    @Override
    public ObservableList<BookVO> searchBookByTitleKeyword(String keyword) {
        SqlSessionFactory sqlSessionFactory = MyBatisSessionFactory.getSqlSessionFactory();
        SqlSession sqlSession = sqlSessionFactory.openSession();
        BookDAO bookDAO = new BookDAO(sqlSession);
        ObservableList<BookVO> bookVOList = FXCollections.observableArrayList();
        bookVOList.addAll(bookDAO.selectByTitleKeyword(keyword));
        return bookVOList;
    }

    @Override
    public boolean createBook(BookVO book) {
        SqlSessionFactory sqlSessionFactory = MyBatisSessionFactory.getSqlSessionFactory();
        SqlSession sqlSession = sqlSessionFactory.openSession();
        BookDAO bookDAO = new BookDAO(sqlSession);
        boolean result = bookDAO.insert(book) == 1;
        if (result) {
            sqlSession.commit();
            sqlSession.close();
        } else {
            sqlSession.rollback();
            sqlSession.close();
        }
        return result;
    }

    @Override
    public boolean updateBook(BookVO book) {
        SqlSessionFactory sqlSessionFactory = MyBatisSessionFactory.getSqlSessionFactory();
        SqlSession sqlSession = sqlSessionFactory.openSession();
        BookDAO bookDAO = new BookDAO(sqlSession);
        boolean result = bookDAO.update(book) == 1;
        if (result) {
            sqlSession.commit();
            sqlSession.close();
        } else {
            sqlSession.rollback();
            sqlSession.close();
        }
        return result;
    }

    @Override
    public boolean deleteBook(String isbn) {
        SqlSessionFactory sqlSessionFactory = MyBatisSessionFactory.getSqlSessionFactory();
        SqlSession sqlSession = sqlSessionFactory.openSession();
        BookDAO bookDAO = new BookDAO(sqlSession);
        boolean result = bookDAO.delete(isbn) == 1;
        if (result) {
            sqlSession.commit();
            sqlSession.close();
        } else {
            sqlSession.rollback();
            sqlSession.close();
        }
        return result;
    }
}

```

view-BookSearchView
```
package example.view;

import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class BookSearchView extends Application {
    @Override
    public void start(Stage stage) throws Exception {
        // 화면 구성
        // Stage - Scene - Parent(Layout Manager)
        Parent root = null;
        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getClassLoader().getResource("BookSearch.fxml"));
        try {
            root = fxmlLoader.load();
        } catch (Exception e) {
            e.printStackTrace();
        }

        Scene scene = new Scene(root);
        stage.setScene(scene);
        stage.setTitle("도서 검색");
        stage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}

```

vo-BookVO
```
package example.vo;

public class BookVO {
    private String bisbn;
    private String btitle;
    private String bdate;
    private int bpage;
    private int bprice;
    private String bauthor;
    private String btranslator;
    private String bpublisher;
    private String bimgurl;

    public BookVO() {
    }

    public BookVO(String bisbn, String btitle, int bprice, String bauthor) {
        this.bisbn = bisbn;
        this.btitle = btitle;
        this.bprice = bprice;
        this.bauthor = bauthor;
    }

    public BookVO(String bisbn, String btitle, String bdate, int bpage, int bprice, String bauthor, String btranslator, String bpublisher, String bimgurl) {
        this.bisbn = bisbn;
        this.btitle = btitle;
        this.bdate = bdate;
        this.bpage = bpage;
        this.bprice = bprice;
        this.bauthor = bauthor;
        this.btranslator = btranslator;
        this.bpublisher = bpublisher;
        this.bimgurl = bimgurl;
    }

    public String getBisbn() {
        return bisbn;
    }

    public void setBisbn(String bisbn) {
        this.bisbn = bisbn;
    }

    public String getBtitle() {
        return btitle;
    }

    public void setBtitle(String btitle) {
        this.btitle = btitle;
    }

    public String getBdate() {
        return bdate;
    }

    public void setBdate(String bdate) {
        this.bdate = bdate;
    }

    public int getBpage() {
        return bpage;
    }

    public void setBpage(int bpage) {
        this.bpage = bpage;
    }

    public int getBprice() {
        return bprice;
    }

    public void setBprice(int bprice) {
        this.bprice = bprice;
    }

    public String getBauthor() {
        return bauthor;
    }

    public void setBauthor(String bauthor) {
        this.bauthor = bauthor;
    }

    public String getBtranslator() {
        return btranslator;
    }

    public void setBtranslator(String btranslator) {
        this.btranslator = btranslator;
    }

    public String getBpublisher() {
        return bpublisher;
    }

    public void setBpublisher(String bpublisher) {
        this.bpublisher = bpublisher;
    }

    public String getBimgurl() {
        return bimgurl;
    }

    public void setBimgurl(String bimgurl) {
        this.bimgurl = bimgurl;
    }
}

```

resources-sqlmap-Book.xml
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="example.MyBook">
    <select id="selectByTitleKeyword" parameterType="String" resultType="Book">
        <!--  CDATA : SQL Query 안의 특수문자가 tag로 인식되지 않도록 처리  -->
        <![CDATA[
        SELECT BISBN, BTITLE, BPRICE, BAUTHOR
        FROM BOOK
        WHERE BTITLE LIKE #{keyword}
        ORDER BY BISBN
        ]]>
    </select>

    <insert id="insert">
        <![CDATA[
        INSERT INTO BOOK(BISBN, BTITLE, BPRICE, BAUTHOR)
        VALUES (#{bisbn}, #{btitle}, #{bprice}, #{bauthor})
        ]]>
    </insert>

    <update id="update">
        <![CDATA[
        UPDATE BOOK
        SET BTITLE  = #{btitle},
            BPRICE  = #{bprice},
            BAUTHOR = #{bauthor}
        WHERE BISBN = #{bisbn}
        ]]>
    </update>

    <delete id="delete">
        DELETE
        FROM BOOK
        WHERE BISBN = #{isbn}
    </delete>
</mapper>
```

resources-BookSearch.fxml
```
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.Pane?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="400.0"
            prefWidth="600.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="example.controller.BookSearchController">
    <center>
        <TableView fx:id="bookTable" prefHeight="239.0" prefWidth="600.0" BorderPane.alignment="CENTER">
            <columns>
                <TableColumn fx:id="isbnCol" prefWidth="75.0" text="책 ISBN"/>
                <TableColumn fx:id="titleCol" prefWidth="370.0" text="책 제목"/>
                <TableColumn fx:id="priceCol" prefWidth="76.0" text="책 가격"/>
                <TableColumn fx:id="authorCol" prefWidth="78.0" text="책 저자"/>
            </columns>
        </TableView>
    </center>
    <bottom>
        <Pane prefHeight="122.0" prefWidth="600.0" BorderPane.alignment="CENTER">
            <children>
                <FlowPane layoutY="26.0" prefHeight="24.0" prefWidth="600.0">
                    <children>
                        <Label text="ISBN">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Label>
                        <TextField fx:id="isbnInput" prefHeight="22.0" prefWidth="60.0">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </TextField>
                        <Label text="제목">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Label>
                        <TextField fx:id="titleInput" prefHeight="22.0" prefWidth="60.0">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </TextField>
                        <Label text="가격">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Label>
                        <TextField fx:id="priceInput" prefHeight="22.0" prefWidth="60.0">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </TextField>
                        <Label text="저자">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Label>
                        <TextField fx:id="authorInput" prefHeight="22.0" prefWidth="60.0">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </TextField>
                        <Button fx:id="registerBtn" mnemonicParsing="false" text="등록">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Button>
                    </children>
                </FlowPane>
                <FlowPane layoutY="71.0" prefHeight="25.0" prefWidth="600.0">
                    <children>
                        <Label text="검색어">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Label>
                        <TextField fx:id="searchInput">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </TextField>
                        <Button fx:id="searchBtn" mnemonicParsing="false" text="검색">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Button>
                        <Button fx:id="deleteBtn" mnemonicParsing="false" text="삭제">
                            <FlowPane.margin>
                                <Insets left="20.0"/>
                            </FlowPane.margin>
                        </Button>
                    </children>
                </FlowPane>
            </children>
        </Pane>
    </bottom>
</BorderPane>

```

resources-driver.properties
```
db.driver=oracle.jdbc.driver.OracleDriver
db.url=jdbc:oracle:thin:@localhost:1521:xe
db.username=C##DEV
db.password=1234

```

resources-SqlMapConfig.xml
```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org/DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd" >
<configuration>
    <!--  JDBC Driver 클래스와 데이터베이스 연결 설정  -->
    <!--  이 연결 설정에 대한 내용은 XML 안에 직접 작성 X  -->
    <!--  별도의 외부 파일에 작성 & 해당 파일을 property로 가져옴  -->
    <properties resource="./driver.properties"/>

    <!--  MyBatis 실행 설정  -->
    <settings>
        <setting name="jdbcTypeForNull" value="NULL"/>
    </settings>

    <!--  TypeAlias  -->
    <typeAliases>
        <typeAlias type="example.vo.BookVO" alias="Book"/>
    </typeAliases>

    <!--  DB 연결 정보  -->
    <environments default="development">
        <environment id="development">
            <!--  TransactionManger를 JDBC로 설정하면
                  수동으로 transaction을 설정한다는 의미
                  commit(), rollback()을 코드에서 제어 => JDBC
                  자동으로 transaction을 제어 => MANAGED
            -->
            <transactionManager type="JDBC"/>
            <!--  Connection Pool 사용 여부  -->
            <dataSource type="POOLED">
                <property name="driver" value="${db.driver}"/>
                <property name="url" value="${db.url}"/>
                <property name="username" value="${db.username}"/>
                <property name="password" value="${db.password}"/>
            </dataSource>
        </environment>
    </environments>

    <!--  SQL을 작성하는 Mapper 파일의 경로를 지정  -->
    <!--  일반적으로 table 당 1개씩  -->
    <mappers>
        <mapper resource="./sqlmap/Book.xml"/>
    </mappers>
</configuration>
```
